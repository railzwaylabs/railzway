# =========================
# Application
# =========================
APP_SERVICE=railzway
APP_VERSION=0.1.0
RAILZWAY_MODE=oss # Options: oss, cloud, standalone

ENVIRONMENT=development

# =========================
# Security (CRITICAL)
# =========================
# Generate random 32-char strings for these in production!
AUTH_JWT_SECRET=changeme_to_a_secure_random_string_min_32_chars
PAYMENT_PROVIDER_CONFIG_SECRET=changeme_to_a_secure_random_string_32_chars

# Vault Configuration
VAULT_PROVIDER=aes # aes or hashicorp
VAULT_ADDR=
VAULT_TOKEN=

# =========================
# Observability / OTLP
# (optional)
# =========================
OTLP_ENDPOINT=localhost:4317

# =========================
# Railzway Instance
# =========================
RAILZWAY_INSTANCE_ID=

# =========================
# Cloud Metrics (Phone Home)
# =========================
TELEMETRY_ENABLED=true
TELEMETRY_EXPORTER=prometheus_remote_write
TELEMETRY_ENDPOINT=
TELEMETRY_AUTH_TOKEN=

# =========================
# License (Self-Hosted Plus)
# =========================
# Path to the signed license file (recommended)
RAILZWAY_LICENSE_FILE_PATH=
# Or Public Key for verification (if overriding default)
RAILZWAY_LICENSE_PUBLIC_KEY=

# =========================
# Database
# =========================
DB_TYPE=postgres
DB_HOST=localhost
DB_PORT=5432
DB_NAME=postgres
DB_USER=postgres
DB_PASSWORD=postgres
DB_SSL_MODE=disable

# =========================
# Database Pooling
# =========================
DB_MAX_IDLE_CONN=10
DB_MAX_OPEN_CONN=50
DB_CONN_MAX_LIFETIME=300   # seconds
DB_CONN_MAX_IDLE_TIME=60   # 

# =========================
# Ratelimit Ingest
# =========================
USAGE_INGEST_RATE_LIMIT_ENABLED=true
RATE_LIMIT_REDIS_ADDR=localhost:6379
RATE_LIMIT_REDIS_PASSWORD=
RATE_LIMIT_REDIS_DB=0

USAGE_INGEST_ORG_RATE=25
USAGE_INGEST_ORG_BURST=50
USAGE_INGEST_ENDPOINT_RATE=15
USAGE_INGEST_ENDPOINT_BURST=30
USAGE_INGEST_CONCURRENCY_TTL_SECONDS=3

# =========================
# Bootstrap Default Org and User
# =========================
ENSURE_DEFAULT_ORG_AND_USER=false

# =========================
# User
# =========================
ALLOW_SIGNUP=true
ALLOW_ASSIGN_ORG=true
ALLOW_ASSIGN_USER_ROLE=ADMIN

AUTO_ASSIGN_ORG_ID=2002990275537932288
AUTO_ASSIGN_ORG_ROLE=EDITOR

BOOTSTRAP_DEFAULT_ORG_ID=2002990275537932288
BOOTSTRAP_DEFAULT_ORG_NAME=Railzway Demo Org
BOOTSTRAP_ADMIN_EMAIL=admin@railzway.com
BOOTSTRAP_ADMIN_PASSWORD=admin

# =========================
# Auth - GitHub
# =========================
AUTH_GITHUB_NAME=GitHub
AUTH_GITHUB_ENABLED=false
AUTH_GITHUB_ALLOW_SIGN_UP=true
AUTH_GITHUB_CLIENT_ID=some_id
AUTH_GITHUB_CLIENT_SECRET=
AUTH_GITHUB_SCOPES=user:email,read:org
AUTH_GITHUB_AUTH_URL=https://github.com/login/oauth/authorize
AUTH_GITHUB_TOKEN_URL=https://github.com/login/oauth/access_token
AUTH_GITHUB_API_URL=https://api.github.com/user

# =========================
# Auth - Google
# =========================
AUTH_GOOGLE_NAME=Google
AUTH_GOOGLE_ENABLED=false
AUTH_GOOGLE_ALLOW_SIGN_UP=true
AUTH_GOOGLE_CLIENT_ID=some_client_id
AUTH_GOOGLE_CLIENT_SECRET=
AUTH_GOOGLE_SCOPES=openid email profile
AUTH_GOOGLE_AUTH_URL=https://accounts.google.com/o/oauth2/v2/auth
AUTH_GOOGLE_TOKEN_URL=https://oauth2.googleapis.com/token
AUTH_GOOGLE_API_URL=https://openidconnect.googleapis.com/v1/userinfo

# =========================
# Auth - Railzway.com (Cloud)
# =========================
AUTH_RAILZWAY_COM_NAME=Railzway.com
AUTH_RAILZWAY_COM_ENABLED=true
AUTH_RAILZWAY_COM_ALLOW_SIGN_UP=false
AUTH_RAILZWAY_COM_AUTH_URL=
AUTH_RAILZWAY_COM_TOKEN_URL=
AUTH_RAILZWAY_COM_API_URL=
AUTH_RAILZWAY_COM_CLIENT_ID=
AUTH_RAILZWAY_COM_CLIENT_SECRET=
AUTH_RAILZWAY_COM_SCOPES=openid profile email


# =========================
# SMTP / Emailing
# =========================
SMTP_HOST=localhost
SMTP_PORT=1025
SMTP_USERNAME=
SMTP_PASSWORD=
SMTP_FROM=no-reply@railzway.com

# =========================
# Privacy
# =========================
WEBHOOK_RETENTION_DAYS=30

# =========================
# Usage Quotas
# =========================
QUOTA_ENABLED=true
QUOTA_ORG_CUSTOMER=100
QUOTA_ORG_SUBSCRIPTION=10
QUOTA_ORG_USAGE_MONTHLY=100000
